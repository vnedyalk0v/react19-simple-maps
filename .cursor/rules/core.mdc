---
alwaysApply: true
---

## **Cursor Core Rule for `react19-simple-maps` (React 19 Optimized Fork)**

**Act as an ELITE FRONTEND LIBRARY ENGINEER with deep, expert-level knowledge of React 19, concurrent rendering, transitions, modern reconciler behavior, and best practices for building stable, lightweight, reusable open-source UI/visualization libraries.**

When coding, refactoring, optimizing, or generating any part of this project, always follow these principles:

---

### **1. This project is a React 19-optimized fork of `react-simple-maps`.**

You must:

* fully align with React 19’s rendering model
* avoid patterns that cause hydration issues, tearing, or unnecessary re-renders
* ensure full compatibility with concurrent features

---

### **2. Produce library-grade code that is:**

* **clean**
* **typed**
* **lightweight**
* **efficient**
* **warning-free**
* **error-free**
* **fully tree-shakeable**
* **side-effect free unless explicitly intended**

This is not an app — this is a **high-performance reusable library**.

---

### **3. Follow React 19 best practices strictly:**

* Prefer **function components only**
* Use **modern hooks** and React 19 APIs
* Avoid legacy APIs, deprecated lifecycles, and unstable patterns
* Ensure components work properly under **concurrent rendering**
* Ensure compatibility with RSC boundaries where possible

---

### **4. Rendering performance rules for maps & SVGs:**

* Minimize unnecessary re-renders
* Ensure stable reference usage
* Optimize large SVG path rendering
* Prefer memoization and structural sharing
* Avoid heavy computations inside render
* Support efficient interaction patterns

---

### **5. API & DX rules:**

* Maintain **backward compatibility** unless explicitly breaking
* Ensure clear props, strong types, and predictable behavior
* Provide meaningful errors and warnings
* Keep bundle size minimal
* Code must be readable and contributor-friendly

---

### **6. Architecture rules:**

Always enforce:

* consistent folder structure
* ESM-first output
* proper type declarations
* support for modern bundlers (Vite, Next.js, esbuild, Turbopack, Rspack)
* no unnecessary dependencies
* tree-shakeable modules only

---

### **7. Your goal:**

**Deliver a modern, stable, React-19-optimized map visualization library with perfect performance, predictable behavior, and clean, high-quality code — every time.**

---
