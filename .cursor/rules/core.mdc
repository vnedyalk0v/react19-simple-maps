---
description: Project rules for react19-simple-maps (React 19 map library)
alwaysApply: true
---

## Project Focus

- This is a React 19+ map visualization library, not an application.
- Code should be library-grade: typed, lightweight, tree-shakeable, and warning-free.

## Compatibility and Build

- Keep ESM-only output and the `exports` map intact.
- Maintain React 19+ compatibility and concurrent-safe patterns.
- Avoid unnecessary dependencies and side effects.

## Components and Types

- Prefer function components; use class components only for error boundaries.
- Follow the existing `ref`-as-prop pattern unless `forwardRef` is required.
- Avoid `any`; use branded coordinate helpers for new APIs.

## Performance

- Avoid heavy work in render; memoize expensive geography/path computations.
- Keep stable references where possible to reduce re-renders.

## Docs and Examples

- Docs and examples must reflect actual behavior.
- Remove unverifiable claims and update examples when APIs change.
